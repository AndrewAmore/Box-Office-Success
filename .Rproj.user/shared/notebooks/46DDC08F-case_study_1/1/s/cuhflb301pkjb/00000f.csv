"0","df = read.csv(file=""./data/United_States_Film_Releases_2019.csv"", "
"0","              na.strings = c("""",""N/A""))"
"0",""
"0","# remove '$' and ',' from fields"
"0","df$Box.Office = gsub(""[$,]"", """", df$Box.Office)"
"0","df$Budget = gsub(""[$,]"", """", df$Budget)"
"0",""
"0","# clean up genre"
"0","## remove spaces"
"0","df$Genre = gsub("" "", """", df$Genre, fixed = TRUE)"
"0","## create field with the number of genres"
"0","df$Num.Genres = str_count(df$Genre, ""/"") + 1"
"0","## assume genres listed in order of ""priority""...only take the top two genres"
"0","df = df %>% "
"0","  separate(col=Genre, into=c(""Genre.1"", ""Genre.2""), sep=""/"", extra=""drop"", fill=""right"", remove=FALSE)"
"0","df$Genre.2[is.na(df$Genre.2)] = ""Not-Applicable"""
"0",""
"0","# convert to desired types"
"0","df$Box.Office = as.numeric(df$Box.Office)"
"0","df$Budget = as.numeric(df$Budget)"
"0","## should try and tie factor levels here so they get assigned the same level"
"0","df$Genre.1 = as.factor(df$Genre.1)"
"0","df$Genre.2 = as.factor(df$Genre.2)"
"0","df$Release.Date..mmddyyyy. = as.Date(df$Release.Date..mmddyyyy., "
"0","                                     format=""%m/%d/%Y"")"
"0","# rename columns"
"0","names(df)[names(df) == 'Critic.Score..IMDB.x.10.'] = 'Critic.Score'"
"0","names(df)[names(df) == 'Run.Time..minutes.'] = 'Run.Time'"
"0","names(df)[names(df) == 'Release.Date..mmddyyyy.'] = 'Release.Date'"
"0",""
"0","# create netprofit field"
"0","df$Net.Profit = df$Box.Office - df$Budget"
"0",""
"0","# create sentiment field off title"
"0","df$Title.Sentiment = (sentimentr::sentiment(df$Title))$sentiment"
"0",""
"0","# add more specific date fields"
"0","df$Day.of.Week = weekdays(df$Release.Date)"
"0","df$Release.Month = as.factor(months(df$Release.Date))"
